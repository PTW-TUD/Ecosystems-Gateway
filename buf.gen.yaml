version: v2

plugins:
  # OpenAPI v2 (Swagger) from grpc-gateway
  - remote: buf.build/grpc-ecosystem/openapiv2
    out: src/openapi
    opt:
      - logtostderr=true

  # TypeScript via ts-proto
  - remote: buf.build/community/stephenh-ts-proto:v2.3.0
    out: src/generated
    opt:
      - esModuleInterop=true
      - outputServices=grpc-js
      - useOptionals=messages
